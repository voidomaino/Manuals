
# Shell 的输入与输出

## `stdin`、`stdout` 和 `stderr`

通常，一个程序接收输入（`stdin`），产生对应的输出（`stdout`），如果不能，则产生报错
（`stderr`）。

| 输入或输出    | 符号      | 文件描述符    |
| -----         | -----     | -----         |
| 标准输入      | stdin     | 0             |
| 标准输出      | stdout    | 1             |
| 标准错误输出  | stderr    | 2             |

输入一般来自键盘，输出一般去向命令行的下一行，但是我们有一些方式改变输入和输出
的来源和去向，使得一个程序的输出成为另一个的输入。

## 输出定向到文件

`>` 可以将程序的标准输出定向到一个文件中。

```shell
ls -l /usr/bin > ls-output.txt
```

如果没有程序运行，也就没有输出，那么指定的文件将被清空。

使用 `>>` 可以将程序的标准输出定向到一个文件的末尾。

使用 `2>` 可以将程序的标准错误输出定向到一个文件中。

使用 `2>&1` 可以将程序的标准错误输出定向到标准输出后面。添加 `&` 是为了避免定向
到一个名叫 `1` 的文件中。新版本的 `bash` 提供了 `&>` 符号，直接将两个输出都定向
到一个文件中。

## 输出定向到输入

`<` 先执行后面的程序，并将其输出作为前面程序的输入。

## 管线

要执行一串程序，前一个的输出是后一个的输入，可以使用管道操作符 `|`。

```shell
ls /bin /usr/bin | sort | uniq | less
ls /bin /usr/bin | sort | uniq | wc -l
ls /bin /usr/bin | sort | uniq | grep zip
```

## 同时输出到屏幕和文件

`| tee` 相当于 `>`，但在屏幕上也会显示输出。

